"use strict";(globalThis.webpackChunksurerank=globalThis.webpackChunksurerank||[]).push([[4400],{4146(t,e,n){var o=n(73404),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(t){return o.isMemo(t)?i:a[t.$$typeof]||s}a[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[o.Memo]=i;var u=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,m=Object.prototype;t.exports=function t(e,n,o){if("string"!==typeof n){if(m){var s=d(n);s&&s!==m&&t(e,s,o)}var i=l(n);h&&(i=i.concat(h(n)));for(var a=c(e),f=c(n),g=0;g<i.length;++g){var v=i[g];if(!r[v]&&(!o||!o[v])&&(!f||!f[v])&&(!a||!a[v])){var y=p(n,v);try{u(e,v,y)}catch(x){}}}}return e}},3072(t,e){var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,s=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,P=n?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case l:case h:case r:case a:case i:case d:return t;default:switch(t=t&&t.$$typeof){case u:case p:case g:case f:case c:return t;default:return e}}case s:return e}}}function E(t){return w(t)===h}e.AsyncMode=l,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=c,e.Element=o,e.ForwardRef=p,e.Fragment=r,e.Lazy=g,e.Memo=f,e.Portal=s,e.Profiler=a,e.StrictMode=i,e.Suspense=d,e.isAsyncMode=function(t){return E(t)||w(t)===l},e.isConcurrentMode=E,e.isContextConsumer=function(t){return w(t)===u},e.isContextProvider=function(t){return w(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return w(t)===p},e.isFragment=function(t){return w(t)===r},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===f},e.isPortal=function(t){return w(t)===s},e.isProfiler=function(t){return w(t)===a},e.isStrictMode=function(t){return w(t)===i},e.isSuspense=function(t){return w(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===r||t===h||t===a||t===i||t===d||t===m||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===f||t.$$typeof===c||t.$$typeof===u||t.$$typeof===p||t.$$typeof===y||t.$$typeof===x||t.$$typeof===P||t.$$typeof===v)},e.typeOf=w},73404(t,e,n){t.exports=n(3072)},25164(t,e,n){n.d(e,{N:()=>x});var o=n(74848),s=n(51609),r=n(29473),i=n(28601),a=n(25128),c=n(86719),u=n(76995),l=n(35446);function h(t,e){if("function"===typeof t)return t(e);null!==t&&void 0!==t&&(t.current=e)}class p extends s.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&!1!==this.props.pop){const t=e.offsetParent,n=(0,u.s)(t)&&t.offsetWidth||0,o=(0,u.s)(t)&&t.offsetHeight||0,s=this.props.sizeRef.current;s.height=e.offsetHeight||0,s.width=e.offsetWidth||0,s.top=e.offsetTop,s.left=e.offsetLeft,s.right=n-s.width-s.left,s.bottom=o-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:a}){const c=(0,s.useId)(),u=(0,s.useRef)(null),d=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=(0,s.useContext)(l.Q),f=function(...t){return s.useCallback(function(...t){return e=>{let n=!1;const o=t.map(t=>{const o=h(t,e);return n||"function"!==typeof o||(n=!0),o});if(n)return()=>{for(let e=0;e<o.length;e++){const n=o[e];"function"===typeof n?n():h(t[e],null)}}}}(...t),t)}(u,t.props?.ref??t?.ref);return(0,s.useInsertionEffect)(()=>{const{width:t,height:o,top:s,left:l,right:h,bottom:p}=d.current;if(e||!1===a||!u.current||!t||!o)return;const f="left"===n?`left: ${l}`:`right: ${h}`,g="bottom"===r?`bottom: ${p}`:`top: ${s}`;u.current.dataset.motionPopId=c;const v=document.createElement("style");m&&(v.nonce=m);const y=i??document.head;return y.appendChild(v),v.sheet&&v.sheet.insertRule(`\n          [data-motion-pop-id="${c}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${o}px !important;\n            ${f}px !important;\n            ${g}px !important;\n          }\n        `),()=>{y.contains(v)&&y.removeChild(v)}},[e]),(0,o.jsx)(p,{isPresent:e,childRef:u,sizeRef:d,pop:a,children:!1===a?t:s.cloneElement(t,{ref:f})})}const m=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:u,mode:l,anchorX:h,anchorY:p,root:m})=>{const g=(0,i.M)(f),v=(0,s.useId)();let y=!0,x=(0,s.useMemo)(()=>(y=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:t=>{g.set(t,!0);for(const e of g.values())if(!e)return;r&&r()},register:t=>(g.set(t,!1),()=>g.delete(t))}),[n,g,r]);return u&&y&&(x={...x}),(0,s.useMemo)(()=>{g.forEach((t,e)=>g.set(e,!1))},[n]),s.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),t=(0,o.jsx)(d,{pop:"popLayout"===l,isPresent:n,anchorX:h,anchorY:p,root:m,children:t}),(0,o.jsx)(c.t.Provider,{value:x,children:t})};function f(){return new Map}var g=n(89120);const v=t=>t.key||"";function y(t){const e=[];return s.Children.forEach(t,t=>{(0,s.isValidElement)(t)&&e.push(t)}),e}const x=({children:t,custom:e,initial:n=!0,onExitComplete:c,presenceAffectsLayout:u=!0,mode:l="sync",propagate:h=!1,anchorX:p="left",anchorY:d="top",root:f})=>{const[x,P]=(0,g.xQ)(h),w=(0,s.useMemo)(()=>y(t),[t]),E=h&&!x?[]:w.map(v),S=(0,s.useRef)(!0),C=(0,s.useRef)(w),M=(0,i.M)(()=>new Map),b=(0,s.useRef)(new Set),[L,T]=(0,s.useState)(w),[A,D]=(0,s.useState)(w);(0,a.E)(()=>{S.current=!1,C.current=w;for(let t=0;t<A.length;t++){const e=v(A[t]);E.includes(e)?(M.delete(e),b.current.delete(e)):!0!==M.get(e)&&M.set(e,!1)}},[A,E.length,E.join("-")]);const k=[];if(w!==L){let t=[...w];for(let e=0;e<A.length;e++){const n=A[e],o=v(n);E.includes(o)||(t.splice(e,0,n),k.push(n))}return"wait"===l&&k.length&&(t=k),D(y(t)),T(w),null}const{forceRender:j}=(0,s.useContext)(r.L);return(0,o.jsx)(o.Fragment,{children:A.map(t=>{const s=v(t),r=!(h&&!x)&&(w===A||E.includes(s));return(0,o.jsx)(m,{isPresent:r,initial:!(S.current&&!n)&&void 0,custom:e,presenceAffectsLayout:u,mode:l,root:f,onExitComplete:r?void 0:()=>{if(b.current.has(s))return;if(b.current.add(s),!M.has(s))return;M.set(s,!0);let t=!0;M.forEach(e=>{e||(t=!1)}),t&&(j?.(),D(C.current),h&&P?.(),c&&c())},anchorX:p,anchorY:d,children:t},s)})})}},89120(t,e,n){n.d(e,{xQ:()=>r});var o=n(51609),s=n(86719);function r(t=!0){const e=(0,o.useContext)(s.t);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=(0,o.useId)();(0,o.useEffect)(()=>{if(t)return i(a)},[t]);const c=(0,o.useCallback)(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,c]:[!0]}},29473(t,e,n){n.d(e,{L:()=>o});const o=(0,n(51609).createContext)({})},35446(t,e,n){n.d(e,{Q:()=>o});const o=(0,n(51609).createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"})},86719(t,e,n){n.d(e,{t:()=>o});const o=(0,n(51609).createContext)(null)},92451(t,e,n){n.d(e,{P:()=>de});var o=n(35715),s=n(72552),r=n(51609);const i=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function a(t){return"string"===typeof t&&!t.includes("-")&&!!(i.indexOf(t)>-1||/[A-Z]/u.test(t))}const c=(t,e)=>e.isSVG??a(t)?new o.l(e):new s.M(e,{allowProjection:t!==r.Fragment});var u=n(74848),l=n(29473);const h=(0,r.createContext)({strict:!1});var p=n(35446);const d=(0,r.createContext)({});var m=n(80496),f=n(61236);function g(t){return Array.isArray(t)?t.join(" "):t}var v=n(89495),y=n(93308),x=n(16846);function P(t,e,n){for(const o in e)(0,v.S)(e[o])||(0,y.zK)(o,n)||(t[o]=e[o])}function w(t,e){const n={},o=function(t,e){const n={};return P(n,t.style||{},t),Object.assign(n,function({transformTemplate:t},e){return(0,r.useMemo)(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return(0,x.O)(n,e,t),Object.assign({},n.vars,n.style)},[e])}(t,e)),n}(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=o,n}var E=n(81721),S=n(80098);function C(t,e,n,o){const s=(0,r.useMemo)(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return(0,E.B)(n,e,(0,S.n)(o),t.transformTemplate,t.style),{...n.attrs,style:{...n.style}}},[e]);if(t.style){const e={};P(e,t.style,t),s.style={...e,...s.style}}return s}const M=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function b(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||M.has(t)}let L=t=>!b(t);try{"function"===typeof(T=require("@emotion/is-prop-valid").default)&&(L=t=>t.startsWith("on")?!b(t):T(t))}catch{}var T;function A(t,e,n,{latestValues:o},s,i=!1,c){const u=(c??a(t)?C:w)(e,o,s,t),l=function(t,e,n){const o={};for(const s in t)"values"===s&&"object"===typeof t.values||(L(s)||!0===n&&b(s)||!e&&!b(s)||t.draggable&&s.startsWith("onDrag"))&&(o[s]=t[s]);return o}(e,"string"===typeof t,i),h=t!==r.Fragment?{...l,...u,ref:n}:{},{children:p}=e,d=(0,r.useMemo)(()=>(0,v.S)(p)?p.get():p,[p]);return(0,r.createElement)(t,{...h,children:d})}var D=n(96411),k=n(95547),j=n(66483),R=n(22794),I=n(86719),V=n(28601);function $(t,e,n,o){const s={},r=o(t,{});for(const p in r)s[p]=(0,k.u)(r[p]);let{initial:i,animate:a}=t;const c=(0,m.e)(t),u=(0,m.O)(t);e&&u&&!c&&!1!==t.inherit&&(void 0===i&&(i=e.initial),void 0===a&&(a=e.animate));let l=!!n&&!1===n.initial;l=l||!1===i;const h=l?a:i;if(h&&"boolean"!==typeof h&&!(0,j.N)(h)){const e=Array.isArray(h)?h:[h];for(let n=0;n<e.length;n++){const o=(0,R.a)(t,e[n]);if(o){const{transitionEnd:t,transition:e,...n}=o;for(const o in n){let t=n[o];Array.isArray(t)&&(t=t[l?t.length-1:0]),null!==t&&(s[o]=t)}for(const o in t)s[o]=t[o]}}}return s}const O=t=>(e,n)=>{const o=(0,r.useContext)(d),s=(0,r.useContext)(I.t),i=()=>function({scrapeMotionValuesFromProps:t,createRenderState:e},n,o,s){return{latestValues:$(n,o,s,t),renderState:e()}}(t,e,o,s);return n?i():(0,V.M)(i)},F=O({scrapeMotionValuesFromProps:D.x,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{}})}),W=O({scrapeMotionValuesFromProps:n(79322).x,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}})});var X=n(98288),G=n(42879);const H={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let B=!1;function U(){return function(){if(B)return;const t={};for(const e in H)t[e]={isEnabled:t=>H[e].some(e=>!!t[e])};(0,G.lr)(t),B=!0}(),(0,G.vK)()}const N=Symbol.for("motionComponentSymbol");function Y(t,e,n){const o=(0,r.useRef)(n);(0,r.useInsertionEffect)(()=>{o.current=n});const s=(0,r.useRef)(null);return(0,r.useCallback)(n=>{n&&t.onMount?.(n),e&&(n?e.mount(n):e.unmount());const r=o.current;if("function"===typeof r)if(n){const t=r(n);"function"===typeof t&&(s.current=t)}else s.current?(s.current(),s.current=null):r(n);else r&&(r.current=n)},[e])}var Q=n(38793);const z=(0,r.createContext)({});function _(t){return t&&"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}var q=n(25128);function K(t,e,n,o,s,i){const{visualElement:a}=(0,r.useContext)(d),c=(0,r.useContext)(h),u=(0,r.useContext)(I.t),l=(0,r.useContext)(p.Q),m=l.reducedMotion,f=l.skipAnimations,g=(0,r.useRef)(null),v=(0,r.useRef)(!1);o=o||c.renderer,!g.current&&o&&(g.current=o(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:m,skipAnimations:f,isSVG:i}),v.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const y=g.current,x=(0,r.useContext)(z);!y||y.projection||!s||"html"!==y.type&&"svg"!==y.type||function(t,e,n,o){const{layoutId:s,layout:r,drag:i,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:J(t.parent)),t.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:Boolean(i)||a&&_(a),visualElement:t,animationType:"string"===typeof r?r:"both",initialPromotionConfig:o,crossfade:l,layoutScroll:c,layoutRoot:u})}(g.current,n,s,x);const P=(0,r.useRef)(!1);(0,r.useInsertionEffect)(()=>{y&&P.current&&y.update(n,u)});const w=n[Q.n],E=(0,r.useRef)(Boolean(w)&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return(0,q.E)(()=>{v.current=!0,y&&(P.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),E.current&&y.animationState&&y.animationState.animateChanges())}),(0,r.useEffect)(()=>{y&&(!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),E.current=!1),y.enteringChildren=void 0)}),y}function J(t){if(t)return!1!==t.options.allowProjection?t.projection:J(t.parent)}function Z(t,{forwardMotionProps:e=!1,type:n}={},o,s){o&&function(t){const e=U();for(const n in t)e[n]={...e[n],...t[n]};(0,G.lr)(e)}(o);const i=n?"svg"===n:a(t),c=i?W:F;function l(n,o){let a;const l={...(0,r.useContext)(p.Q),...n,layoutId:tt(n)},{isStatic:v}=l,y=function(t){const{initial:e,animate:n}=function(t,e){if((0,m.e)(t)){const{initial:e,animate:n}=t;return{initial:!1===e||(0,f.w)(e)?e:void 0,animate:(0,f.w)(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,r.useContext)(d));return(0,r.useMemo)(()=>({initial:e,animate:n}),[g(e),g(n)])}(n),x=c(n,v);if(!v&&X.B){(0,r.useContext)(h);const e=function(t){const e=U(),{drag:n,layout:o}=e;if(!n&&!o)return{};const s={...n,...o};return{MeasureLayout:n?.isEnabled(t)||o?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(l);a=e.MeasureLayout,y.visualElement=K(t,x,l,s,e.ProjectionNode,i)}return(0,u.jsxs)(d.Provider,{value:y,children:[a&&y.visualElement?(0,u.jsx)(a,{visualElement:y.visualElement,...l}):null,A(t,n,Y(x,y.visualElement,o),x,v,e,i)]})}l.displayName=`motion.${"string"===typeof t?t:`create(${t.displayName??t.name??""})`}`;const v=(0,r.forwardRef)(l);return v[N]=t,v}function tt({layoutId:t}){const e=(0,r.useContext)(l.L).id;return e&&void 0!==t?e+"-"+t:t}function et(t,e){if("undefined"===typeof Proxy)return Z;const n=new Map,o=(n,o)=>Z(n,o,t,e);return new Proxy((t,e)=>o(t,e),{get:(s,r)=>"create"===r?o:(n.has(r)||n.set(r,Z(r,void 0,t,e)),n.get(r))})}var nt=n(39619),ot=n(68192);let st=0;const rt={animation:{Feature:class extends nt.X{constructor(t){super(t),t.animationState||(t.animationState=(0,ot.L)(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();(0,j.N)(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends nt.X{constructor(){super(...arguments),this.id=st++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}}};var it=n(41533),at=n(6343),ct=n(56257),ut=n(56307),lt=n(20538),ht=n(45317),pt=n(1207),dt=n(58222),mt=n(82360),ft=n(53273),gt=n(67501),vt=n(65744),yt=n(56304),xt=n(44447),Pt=n(96451),wt=n(8104),Et=n(56228);function St(t){return{point:{x:t.pageX,y:t.pageY}}}function Ct(t,e,n,o){return(0,xt.k)(t,e,(t=>e=>(0,Et.M)(e)&&t(e,St(e)))(n),o)}const Mt=({current:t})=>t?t.ownerDocument.defaultView:null;var bt=n(2718),Lt=n(77331);const Tt=(t,e)=>Math.abs(t-e),At=new Set(["auto","scroll"]);class Dt{constructor(t,e,{transformPagePoint:n,contextWindow:o=window,dragSnapToOrigin:s=!1,distanceThreshold:r=3,element:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=t=>{this.handleScroll(t.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Rt(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=Tt(t.x,e.x),o=Tt(t.y,e.y);return Math.sqrt(n**2+o**2)}(t.offset,{x:0,y:0})>=this.distanceThreshold;if(!e&&!n)return;const{point:o}=t,{timestamp:s}=pt.uv;this.history.push({...o,timestamp:s});const{onStart:r,onMove:i}=this.handlers;e||(r&&r(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=kt(e,this.transformPagePoint),pt.Gt.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:o,resumeAnimation:s}=this.handlers;if(!this.dragSnapToOrigin&&this.startEvent||s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const r=Rt("pointercancel"===t.type?this.lastMoveEventInfo:kt(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,r),o&&o(t,r)},!(0,Et.M)(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=r,this.contextWindow=o||window;const a=kt(St(t),this.transformPagePoint),{point:c}=a,{timestamp:u}=pt.uv;this.history=[{...c,timestamp:u}];const{onSessionStart:l}=e;l&&l(t,Rt(a,this.history)),this.removeListeners=(0,bt.F)(Ct(this.contextWindow,"pointermove",this.handlePointerMove),Ct(this.contextWindow,"pointerup",this.handlePointerUp),Ct(this.contextWindow,"pointercancel",this.handlePointerUp)),i&&this.startScrollTracking(i)}startScrollTracking(t){let e=t.parentElement;for(;e;){const t=getComputedStyle(e);(At.has(t.overflowX)||At.has(t.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const n=t===window,o=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},s=o.x-e.x,r=o.y-e.y;0===s&&0===r||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s,this.lastMoveEventInfo.point.y+=r):this.history.length>0&&(this.history[0].x-=s,this.history[0].y-=r),this.scrollPositions.set(t,o),pt.Gt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),(0,pt.WG)(this.updatePoint)}}function kt(t,e){return e?{point:e(t.point)}:t}function jt(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rt({point:t},e){return{point:t,delta:jt(t,Vt(e)),offset:jt(t,It(e)),velocity:$t(e,.1)}}function It(t){return t[0]}function Vt(t){return t[t.length-1]}function $t(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,o=null;const s=Vt(t);for(;n>=0&&(o=t[n],!(s.timestamp-o.timestamp>(0,Lt.f)(e)));)n--;if(!o)return{x:0,y:0};o===t[0]&&t.length>2&&s.timestamp-o.timestamp>2*(0,Lt.f)(e)&&(o=t[1]);const r=(0,Lt.X)(s.timestamp-o.timestamp);if(0===r)return{x:0,y:0};const i={x:(s.x-o.x)/r,y:(s.y-o.y)/r};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}var Ot=n(86896),Ft=n(17046);function Wt(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function Xt(t,e){let n=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,o]=[o,n]),{min:n,max:o}}const Gt=.35;function Ht(t,e,n){return{min:Bt(t,e),max:Bt(t,n)}}function Bt(t,e){return"number"===typeof t?t:t[e]||0}const Ut=new WeakMap;class Nt{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=(0,at.ge)(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:n}={}){const{presenceContext:o}=this.visualElement;if(o&&!1===o.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new Dt(t,{onSessionStart:t=>{e&&this.snapToCursor(St(t).point),this.stopAnimation()},onStart:(t,e)=>{const{drag:n,dragPropagation:o,onDragStart:s}=this.getProps();if(n&&!o&&(this.openDragLock&&this.openDragLock(),this.openDragLock=(0,ct.W)(n),!this.openDragLock))return;this.latestPointerEvent=t,this.latestPanInfo=e,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),(0,ut.X)(t=>{let e=this.getAxisMotionValue(t).get()||0;if(lt.KN.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const o=n.layout.layoutBox[t];o&&(e=(0,ht.CQ)(o)*(parseFloat(e)/100))}}this.originPoint[t]=e}),s&&pt.Gt.update(()=>s(t,e),!1,!0),(0,dt.g)(this.visualElement,"transform");const{animationState:r}=this.visualElement;r&&r.setActive("whileDrag",!0)},onMove:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e;const{dragPropagation:n,dragDirectionLock:o,onDirectionLock:s,onDrag:r}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:i}=e;if(o&&null===this.currentDirection)return this.currentDirection=function(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(i),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",e.point,i),this.updateAxis("y",e.point,i),this.visualElement.render(),r&&pt.Gt.update(()=>r(t,e),!1,!0)},onSessionEnd:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e,this.stop(t,e),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>{const{dragSnapToOrigin:t}=this.getProps();(t||this.constraints)&&this.startAnimation({x:0,y:0})}},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:n,contextWindow:Mt(this.visualElement),element:this.visualElement.current})}stop(t,e){const n=t||this.latestPointerEvent,o=e||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!o||!n)return;const{velocity:r}=o;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&pt.Gt.postRender(()=>i(n,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,n){const{drag:o}=this.getProps();if(!n||!Qt(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let r=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(r=function(t,{min:e,max:n},o){return void 0!==e&&t<e?t=o?(0,vt.k)(e,t,o.min):Math.max(t,e):void 0!==n&&t>n&&(t=o?(0,vt.k)(n,t,o.max):Math.min(t,n)),t}(r,this.constraints[t],this.elastic[t])),s.set(r)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&_(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(t,{top:e,left:n,bottom:o,right:s}){return{x:Wt(t.x,n,s),y:Wt(t.y,e,o)}}(n.layoutBox,t),this.elastic=function(t=Gt){return!1===t?t=0:!0===t&&(t=Gt),{x:Ht(t,"left","right"),y:Ht(t,"top","bottom")}}(e),o!==this.constraints&&!_(t)&&n&&this.constraints&&!this.hasMutatedConstraints&&(0,ut.X)(t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(n.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!_(t))return!1;const n=t.current;(0,wt.V)(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=(0,mt.L)(n,o.root,this.visualElement.getTransformPagePoint());let r=function(t,e){return{x:Xt(t.x,e.x),y:Xt(t.y,e.y)}}(o.layout.layoutBox,s);if(e){const t=e((0,ft.pA)(r));this.hasMutatedConstraints=!!t,t&&(r=(0,ft.FY)(t))}return r}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:o,dragTransition:s,dragSnapToOrigin:r,onDragTransitionEnd:i}=this.getProps(),a=this.constraints||{},c=(0,ut.X)(i=>{if(!Qt(i,e,this.currentDirection))return;let c=a&&a[i]||{};r&&(c={min:0,max:0});const u={type:"inertia",velocity:n?t[i]:0,bounceStiffness:o?200:1e6,bounceDamping:o?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...s,...c};return this.startAxisValueAnimation(i,u)});return Promise.all(c).then(i)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return(0,dt.g)(this.visualElement,t),n.start((0,gt.f)(t,n,0,e,this.visualElement,!1))}stopAnimation(){(0,ut.X)(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps();return n[e]||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){(0,ut.X)(e=>{const{drag:n}=this.getProps();if(!Qt(e,n,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(e);if(o&&o.layout){const{min:n,max:r}=o.layout.layoutBox[e],i=s.get()||0;s.set(t[e]-(0,vt.k)(n,r,.5)+i)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!_(e)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};(0,ut.X)(t=>{const e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){const n=e.get();o[t]=function(t,e){let n=.5;const o=(0,ht.CQ)(t),s=(0,ht.CQ)(e);return s>o?n=(0,Ot.q)(e.min,e.max-o,t.min):o>s&&(n=(0,Ot.q)(t.min,t.max-s,e.min)),(0,Ft.q)(0,1,n)}({min:n,max:n},this.constraints[t])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),(0,ut.X)(e=>{if(!Qt(e,t,null))return;const n=this.getAxisMotionValue(e),{min:s,max:r}=this.constraints[e];n.set((0,vt.k)(s,r,o[e]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Ut.set(this.visualElement,this);const t=this.visualElement.current,e=Ct(t,"pointerdown",e=>{const{drag:n,dragListener:o=!0}=this.getProps(),s=e.target,r=s!==t&&(0,yt.a)(s);n&&o&&!r&&this.start(e)});let n;const o=()=>{const{dragConstraints:e}=this.getProps();_(e)&&e.current&&(this.constraints=this.resolveRefConstraints(),n||(n=function(t,e,n){const o=(0,Pt.X)(t,Yt(n)),s=(0,Pt.X)(e,Yt(n));return()=>{o(),s()}}(t,e.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,r=s.addEventListener("measure",o);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),pt.Gt.read(o);const i=(0,xt.k)(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&((0,ut.X)(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),a&&a(),n&&n()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:r=Gt,dragMomentum:i=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:o,dragConstraints:s,dragElastic:r,dragMomentum:i}}}function Yt(t){let e=!0;return()=>{e?e=!1:t()}}function Qt(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}const zt=t=>(e,n)=>{t&&pt.Gt.update(()=>t(e,n),!1,!0)};var _t=n(78376),qt=n(66719),Kt=n(89120);let Jt=!1;class Zt extends r.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:o}=this.props,{projection:s}=t;s&&(e.group&&e.group.add(s),n&&n.register&&o&&n.register(s),Jt&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),_t.w.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:o,isPresent:s}=this.props,{projection:r}=n;return r?(r.isPresent=s,t.layoutDependency!==e&&r.setOptions({...r.options,layoutDependency:e}),Jt=!0,o||t.layoutDependency!==e||void 0===e||t.isPresent!==s?r.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?r.promote():r.relegate()||pt.Gt.postRender(()=>{const t=r.getStack();t&&t.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qt.k.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:o}=t;Jt=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function te(t){const[e,n]=(0,Kt.xQ)(),o=(0,r.useContext)(l.L);return(0,u.jsx)(Zt,{...t,layoutGroup:o,switchLayoutGroup:(0,r.useContext)(z),isPresent:e,safeToRemove:n})}var ee=n(52764);const ne={pan:{Feature:class extends nt.X{constructor(){super(...arguments),this.removePointerDownListener=it.l}onPointerDown(t){this.session=new Dt(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mt(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:zt(t),onStart:zt(e),onMove:zt(n),onEnd:(t,e)=>{delete this.session,o&&pt.Gt.postRender(()=>o(t,e))}}}mount(){this.removePointerDownListener=Ct(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends nt.X{constructor(t){super(t),this.removeGroupControls=it.l,this.removeListeners=it.l,this.controls=new Nt(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||it.l}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:ee.P,MeasureLayout:te}};var oe=n(83979);function se(t,e,n){const{props:o}=t;t.animationState&&o.whileHover&&t.animationState.setActive("whileHover","Start"===n);const s=o["onHover"+n];s&&pt.Gt.postRender(()=>s(e,St(e)))}var re=n(29326);function ie(t,e,n){const{props:o}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&o.whileTap&&t.animationState.setActive("whileTap","Start"===n);const s=o["onTap"+("End"===n?"":n)];s&&pt.Gt.postRender(()=>s(e,St(e)))}const ae=new WeakMap,ce=new WeakMap,ue=t=>{const e=ae.get(t.target);e&&e(t)},le=t=>{t.forEach(ue)},he={some:0,all:1},pe={inView:{Feature:class extends nt.X{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:o="some",once:s}=t;return function(t,e,n){const o=function({root:t,...e}){const n=t||document;ce.has(n)||ce.set(n,{});const o=ce.get(n),s=JSON.stringify(e);return o[s]||(o[s]=new IntersectionObserver(le,{root:t,...e})),o[s]}(e);return ae.set(t,n),o.observe(t),()=>{ae.delete(t),o.unobserve(t)}}(this.node.current,{root:e?e.current:void 0,rootMargin:n,threshold:"number"===typeof o?o:he[o]},t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,s&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:o}=this.node.getProps(),r=e?n:o;r&&r(t)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}(t,e))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends nt.X{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:n}=this.node.props;this.unmount=(0,re.c)(t,(t,e)=>(ie(this.node,e,"Start"),(t,{success:e})=>ie(this.node,t,e?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:!1===n?.tap})}unmount(){}}},focus:{Feature:class extends nt.X{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=(0,bt.F)((0,xt.k)(this.node.current,"focus",()=>this.onFocus()),(0,xt.k)(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends nt.X{mount(){const{current:t}=this.node;t&&(this.unmount=(0,oe.P)(t,(t,e)=>(se(this.node,e,"Start"),t=>se(this.node,t,"End"))))}unmount(){}}}},de=et({...rt,...pe,...ne,layout:{ProjectionNode:ee.P,MeasureLayout:te}},c)},98288(t,e,n){n.d(e,{B:()=>o});const o="undefined"!==typeof window},28601(t,e,n){n.d(e,{M:()=>s});var o=n(51609);function s(t){const e=(0,o.useRef)(null);return null===e.current&&(e.current=t()),e.current}},25128(t,e,n){n.d(e,{E:()=>s});var o=n(51609);const s=n(98288).B?o.useLayoutEffect:o.useEffect}}]);